<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reproductor de Música</title>
</head>
{% block body %}
<body>
    <h1>Reproductor de Música</h1>
    <input type="text" id="songName" placeholder="Nombre de la canción (example.mp3)" />
    <button onclick="playSong()">Reproducir</button>
    <audio id="audioPlayer" controls style="display: none; margin-top: 20px;">
        Tu navegador no soporta el elemento de audio.
    </audio>

    <script>
        function playSong() {
            const songName = document.getElementById('songName').value;
            if (!songName) {
                alert('Por favor, ingresa el nombre de la canción.');
                return;
            }

            const audioPlayer = document.getElementById('audioPlayer');
            audioPlayer.src = `/cancion/${encodeURIComponent(songName)}/play`;
            audioPlayer.style.display = 'block'; // Hacer visible el reproductor

            audioPlayer.play().catch(err => {
                console.error('Error al reproducir la canción:', err);
                alert('No se pudo reproducir la canción. Asegúrate de que el archivo existe.');
            });
        }
    </script>
</body>
{% endblock %}
</html>
